import { BigNumber } from "ethers/utils";
import { ETHBucketAppState } from ".";
import { AppABIEncodings, AppInstanceInfo, BlockchainAsset } from "./data-types";
import { Address, AppInstanceID, SolidityABIEncoderV2Struct } from "./simple-types";
export interface INodeProvider {
    onMessage(callback: (message: Node.Message) => void): any;
    sendMessage(message: Node.Message): any;
}
export declare namespace Node {
    enum ErrorType {
        ERROR = "error"
    }
    enum MethodName {
        ACCEPT_STATE = "acceptState",
        CREATE_CHANNEL = "createChannel",
        DEPOSIT = "deposit",
        GET_APP_INSTANCE_DETAILS = "getAppInstanceDetails",
        GET_APP_INSTANCES = "getAppInstances",
        GET_CHANNEL_ADDRESSES = "getChannelAddresses",
        GET_FREE_BALANCE_STATE = "getFreeBalanceState",
        GET_MY_FREE_BALANCE_FOR_STATE = "getMyFreeBalanceForState",
        GET_PROPOSED_APP_INSTANCES = "getProposedAppInstances",
        GET_STATE = "getState",
        INSTALL = "install",
        INSTALL_VIRTUAL = "installVirtual",
        PROPOSE_INSTALL = "proposeInstall",
        PROPOSE_INSTALL_VIRTUAL = "proposeInstallVirtual",
        PROPOSE_STATE = "proposeState",
        REJECT_INSTALL = "rejectInstall",
        REJECT_STATE = "rejectState",
        UPDATE_STATE = "updateState",
        TAKE_ACTION = "takeAction",
        UNINSTALL = "uninstall",
        UNINSTALL_VIRTUAL = "uninstallVirtual",
        WITHDRAW = "withdraw"
    }
    enum EventName {
        COUNTER_DEPOSIT_CONFIRMED = "counterDepositConfirmed",
        CREATE_CHANNEL = "createChannelEvent",
        DEPOSIT_CONFIRMED = "depositConfirmedEvent",
        DEPOSIT_FAILED = "depositFailed",
        DEPOSIT_STARTED = "depositStartedEvent",
        INSTALL = "installEvent",
        INSTALL_VIRTUAL = "installVirtualEvent",
        PROPOSE_STATE = "proposeStateEvent",
        REJECT_INSTALL = "rejectInstallEvent",
        REJECT_STATE = "rejectStateEvent",
        UNINSTALL = "uninstallEvent",
        UNINSTALL_VIRTUAL = "uninstallVirtualEvent",
        UPDATE_STATE = "updateStateEvent",
        WITHDRAWAL_CONFIRMED = "withdrawalConfirmedEvent",
        WITHDRAWAL_FAILED = "withdrawalFailed",
        WITHDRAWAL_STARTED = "withdrawalStartedEvent",
        PROPOSE_INSTALL = "proposeInstallEvent",
        PROPOSE_INSTALL_VIRTUAL = "proposeInstallVirtualEvent",
        PROTOCOL_MESSAGE_EVENT = "protocolMessageEvent",
        WITHDRAW_EVENT = "withdrawEvent",
        REJECT_INSTALL_VIRTUAL = "rejectInstallVirtualEvent"
    }
    type DepositParams = {
        multisigAddress: string;
        amount: BigNumber;
        notifyCounterparty?: boolean;
    };
    type DepositResult = {
        multisigBalance: BigNumber;
    };
    type WithdrawParams = {
        multisigAddress: string;
        recipient?: string;
        amount: BigNumber;
    };
    type WithdrawResult = {
        recipient: string;
        amount: BigNumber;
    };
    type GetFreeBalanceStateParams = {
        multisigAddress: string;
    };
    type GetFreeBalanceStateResult = {
        state: ETHBucketAppState;
    };
    type GetMyFreeBalanceForStateParams = {
        multisigAddress: string;
    };
    type GetMyFreeBalanceForStateResult = {
        balance: BigNumber;
    };
    type GetAppInstancesParams = {};
    type GetProposedAppInstancesParams = {};
    type GetAppInstancesResult = {
        appInstances: AppInstanceInfo[];
    };
    type GetProposedAppInstancesResult = {
        appInstances: AppInstanceInfo[];
    };
    type ProposeInstallParams = {
        appId: Address;
        abiEncodings: AppABIEncodings;
        asset: BlockchainAsset;
        myDeposit: BigNumber;
        peerDeposit: BigNumber;
        timeout: BigNumber;
        initialState: SolidityABIEncoderV2Struct;
        proposedToIdentifier: string;
    };
    type ProposeInstallResult = {
        appInstanceId: AppInstanceID;
    };
    type ProposeInstallVirtualParams = ProposeInstallParams & {
        intermediaries: string[];
    };
    type ProposeInstallVirtualResult = ProposeInstallResult;
    type RejectInstallParams = {
        appInstanceId: AppInstanceID;
    };
    type RejectInstallResult = {};
    type InstallParams = {
        appInstanceId: AppInstanceID;
    };
    type InstallResult = {
        appInstance: AppInstanceInfo;
    };
    type InstallVirtualParams = InstallParams & {
        intermediaries: string[];
    };
    type InstallVirtualResult = InstallResult;
    type GetStateParams = {
        appInstanceId: AppInstanceID;
    };
    type GetStateResult = {
        state: SolidityABIEncoderV2Struct;
    };
    type GetAppInstanceDetailsParams = {
        appInstanceId: AppInstanceID;
    };
    type GetAppInstanceDetailsResult = {
        appInstance: AppInstanceInfo;
    };
    type UpdateStateParams = {
        appInstanceId: AppInstanceID;
        newState: SolidityABIEncoderV2Struct;
    };
    type UpdateStateResult = {
        newState: SolidityABIEncoderV2Struct;
    };
    type TakeActionParams = {
        appInstanceId: AppInstanceID;
        action: SolidityABIEncoderV2Struct;
    };
    type TakeActionResult = {
        newState: SolidityABIEncoderV2Struct;
    };
    type UninstallParams = {
        appInstanceId: AppInstanceID;
    };
    type UninstallResult = {};
    type UninstallVirtualParams = UninstallParams & {
        intermediaryIdentifier: string;
    };
    type UninstallVirtualResult = UninstallResult;
    type CreateChannelParams = {
        owners: Address[];
    };
    type CreateChannelTransactionResult = {
        transactionHash: string;
    };
    type CreateChannelResult = {
        multisigAddress: string;
        owners: string[];
        counterpartyXpub: string;
    };
    type GetChannelAddressesParams = {};
    type GetChannelAddressesResult = {
        multisigAddresses: Address[];
    };
    type MethodParams = GetAppInstancesParams | GetProposedAppInstancesParams | ProposeInstallParams | ProposeInstallVirtualParams | RejectInstallParams | InstallParams | InstallVirtualParams | GetStateParams | GetAppInstanceDetailsParams | TakeActionParams | UninstallParams | CreateChannelParams | GetChannelAddressesParams;
    type MethodResult = GetAppInstancesResult | GetProposedAppInstancesResult | ProposeInstallResult | ProposeInstallVirtualResult | RejectInstallResult | InstallResult | InstallVirtualResult | GetStateResult | GetAppInstanceDetailsResult | TakeActionResult | UninstallResult | CreateChannelResult | GetChannelAddressesResult;
    type InstallEventData = {
        appInstanceId: AppInstanceID;
    };
    type RejectInstallEventData = {
        appInstance: AppInstanceInfo;
    };
    type UpdateStateEventData = {
        appInstanceId: AppInstanceID;
        newState: SolidityABIEncoderV2Struct;
        action?: SolidityABIEncoderV2Struct;
    };
    type UninstallEventData = {
        appInstanceId: string;
    };
    type WithdrawEventData = {
        amount: BigNumber;
    };
    type CreateMultisigEventData = {
        owners: Address[];
        multisigAddress: Address;
    };
    type EventData = InstallEventData | RejectInstallEventData | UpdateStateEventData | UninstallEventData | CreateMultisigEventData;
    type MethodMessage = {
        type: MethodName;
        requestId: string;
    };
    type MethodRequest = MethodMessage & {
        params: MethodParams;
    };
    type MethodResponse = MethodMessage & {
        result: MethodResult;
    };
    type Event = {
        type: EventName;
        data: EventData;
    };
    type Error = {
        type: ErrorType;
        requestId?: string;
        data: {
            errorName: string;
            message?: string;
            appInstanceId?: string;
            extra?: {
                [k: string]: string | number | boolean | object;
            };
        };
    };
    type Message = MethodRequest | MethodResponse | Event | Error;
}
